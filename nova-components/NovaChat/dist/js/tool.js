!function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){s(1),e.exports=s(6)},function(e,t,s){Nova.booting(function(e,t,n){e.component("nova-chat",s(2))})},function(e,t,s){var n=s(3)(s(4),s(5),!1,null,null,null);e.exports=n.exports},function(e,t){e.exports=function(e,t,s,n,r,o){var i,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(i=e,a=e.default);var c,d="function"==typeof a?a.options:a;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),s&&(d.functional=!0),r&&(d._scopeId=r),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=c):n&&(c=n),c){var u=d.functional,f=u?d.render:d.beforeCreate;u?(d._injectStyles=c,d.render=function(e,t){return c.call(t),f(e,t)}):d.beforeCreate=f?[].concat(f,c):[c]}return{esModule:i,exports:a,options:d}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["resourceName","resourceId","panel"],data:function(){return{order:null,auth_id:null,message:"",messages:[]}},methods:{sendMessage:function(){var e=this;""!=this.message&&(axios.post("/messages/send",{to:this.order.client_id==this.auth_id?this.order.booster_id:this.order.client_id,message:this.message,chat:this.chat.id}).then(function(t){e.messages.push(t.data.message),e.scrollToBottom()}),this.message="")},scrollToBottom:function(){var e=this;setTimeout(function(){e.$refs.chatContent.scrollTop=e.$refs.chatContent.scrollHeight-e.$refs.chatContent.clientHeight},50)},handleSendMessage:function(e){this.sendMessage()},getMessageSenderName:function(e){return e===this.order.client_id?this.order.client.username:this.order.booster.username},listenForMessages:function(){var e=this;window.Echo.private("channel.messages."+this.auth_id).listen("SendMessage",function(t){e.messages.push(t.message),e.scrollToBottom()})}},created:function(){this.order=this.panel.fields[0].order,this.chat=this.order.chat,this.messages=this.chat.messages,this.auth_id=this.panel.fields[0].auth_id,this.listenForMessages()}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chat-resource"},[s("div",{staticClass:"font-sans antialiased h-screen flex chat-tool"},[s("div",{staticClass:"flex-1 flex flex-col bg-white overflow-hidden card mb-6 py-3 px-6"},[s("div",{staticClass:"border-b flex px-6 py-2 items-center flex-none"},[s("div",{staticClass:"flex flex-col"},[s("h3",{staticClass:"text-grey-darkest mb-1 font-extrabold"},[e._v("Chat with "+e._s(this.order.client.username))]),e._v(" "),s("div",{staticClass:"text-grey-dark text-sm truncate"},[e._v("Do NOT share your login details in the chat!")])])]),e._v(" "),s("div",{ref:"chatContent",staticClass:"px-6 py-4 flex-1 overflow-y-scroll"},[e._m(0),e._v(" "),e._l(e.messages,function(t){return s("div",{key:t.id,staticClass:"flex items-start mb-4 text-sm"},[s("div",{staticClass:"flex-1 overflow-hidden"},[s("div",[s("span",{staticClass:"font-bold"},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.sender||e.getMessageSenderName(t.sender_id))+"\n\t\t\t\t\t\t\t")]),e._v(" "),s("span",{staticClass:"text-grey text-xs"},[e._v(e._s(t.at))])]),e._v(" "),s("p",{staticClass:"text-white leading-normal"},[e._v(e._s(t.content))])])])})],2),e._v(" "),s("div",{staticClass:"pb-6 px-4 flex-none"},[s("div",{staticClass:"flex rounded-lg border-2 border-grey overflow-hidden"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"w-full px-4 text-3xl text-grey border-r-2 border-grey p-2",attrs:{type:"text",placeholder:"Type your message..."},domProps:{value:e.message},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.handleSendMessage(t))},input:function(t){t.target.composing||(e.message=t.target.value)}}})])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex items-start mb-4 text-sm"},[t("div",{staticClass:"flex-1 overflow-hidden"},[t("div",[t("span",{staticClass:"font-bold"},[this._v("King Boosting")])]),this._v(" "),t("p",{staticClass:"text-white leading-normal"},[this._v("\n\t\t\t\t\t\t\tThank you for your purchase! You will be able to talk to your\n\t\t\t\t\t\t\tbooster/coach right here!\n\t\t\t\t\t\t")])])])}]}},function(e,t){}]);